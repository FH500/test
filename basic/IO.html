<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>输入输出 | 计算概论学业辅导文档</title>
    <meta name="generator" content="VuePress 1.9.10">
    
    <meta name="description" content="">
    
    <link rel="preload" href="/test/assets/css/0.styles.aeaa52fd.css" as="style"><link rel="preload" href="/test/assets/js/app.a472b090.js" as="script"><link rel="preload" href="/test/assets/js/2.11d8e1ba.js" as="script"><link rel="preload" href="/test/assets/js/1.d71b1245.js" as="script"><link rel="preload" href="/test/assets/js/32.6e65d218.js" as="script"><link rel="prefetch" href="/test/assets/js/10.2f6441e7.js"><link rel="prefetch" href="/test/assets/js/11.679512bf.js"><link rel="prefetch" href="/test/assets/js/12.3cb8920a.js"><link rel="prefetch" href="/test/assets/js/13.1b9b0b0f.js"><link rel="prefetch" href="/test/assets/js/14.4109795f.js"><link rel="prefetch" href="/test/assets/js/15.878adf19.js"><link rel="prefetch" href="/test/assets/js/16.dfcc0157.js"><link rel="prefetch" href="/test/assets/js/17.617a8f05.js"><link rel="prefetch" href="/test/assets/js/18.fd66c852.js"><link rel="prefetch" href="/test/assets/js/19.80e59117.js"><link rel="prefetch" href="/test/assets/js/20.f7e2c48f.js"><link rel="prefetch" href="/test/assets/js/21.88005118.js"><link rel="prefetch" href="/test/assets/js/22.f693bd06.js"><link rel="prefetch" href="/test/assets/js/23.5f88b575.js"><link rel="prefetch" href="/test/assets/js/24.a89b93a9.js"><link rel="prefetch" href="/test/assets/js/25.17c83a3f.js"><link rel="prefetch" href="/test/assets/js/26.ea09796b.js"><link rel="prefetch" href="/test/assets/js/27.2fc23ebe.js"><link rel="prefetch" href="/test/assets/js/28.65fc86fa.js"><link rel="prefetch" href="/test/assets/js/29.1291eacf.js"><link rel="prefetch" href="/test/assets/js/3.6972e55e.js"><link rel="prefetch" href="/test/assets/js/30.81382e69.js"><link rel="prefetch" href="/test/assets/js/31.5c265edf.js"><link rel="prefetch" href="/test/assets/js/33.98a11890.js"><link rel="prefetch" href="/test/assets/js/34.f72f3d63.js"><link rel="prefetch" href="/test/assets/js/35.8d80a272.js"><link rel="prefetch" href="/test/assets/js/36.99966b04.js"><link rel="prefetch" href="/test/assets/js/37.a51f14ae.js"><link rel="prefetch" href="/test/assets/js/38.e9493b79.js"><link rel="prefetch" href="/test/assets/js/39.c8b9051e.js"><link rel="prefetch" href="/test/assets/js/4.5adda917.js"><link rel="prefetch" href="/test/assets/js/40.7385aca4.js"><link rel="prefetch" href="/test/assets/js/41.96b8e1f7.js"><link rel="prefetch" href="/test/assets/js/42.0603fbc9.js"><link rel="prefetch" href="/test/assets/js/43.407bc00d.js"><link rel="prefetch" href="/test/assets/js/44.d62aa3ee.js"><link rel="prefetch" href="/test/assets/js/45.cb4e4227.js"><link rel="prefetch" href="/test/assets/js/46.6e14f9e2.js"><link rel="prefetch" href="/test/assets/js/47.46eec23e.js"><link rel="prefetch" href="/test/assets/js/48.d2e78092.js"><link rel="prefetch" href="/test/assets/js/49.46ca2f44.js"><link rel="prefetch" href="/test/assets/js/5.1af3fd50.js"><link rel="prefetch" href="/test/assets/js/50.e492dc6b.js"><link rel="prefetch" href="/test/assets/js/51.6ea80aca.js"><link rel="prefetch" href="/test/assets/js/52.2b446f0c.js"><link rel="prefetch" href="/test/assets/js/53.7be80b67.js"><link rel="prefetch" href="/test/assets/js/6.0baaffd4.js"><link rel="prefetch" href="/test/assets/js/7.b979ac98.js"><link rel="prefetch" href="/test/assets/js/vendors~docsearch.5a1788f2.js">
    <link rel="stylesheet" href="/test/assets/css/0.styles.aeaa52fd.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/test/" class="home-link router-link-active"><!----> <span class="site-name">计算概论学业辅导文档</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/test/" class="nav-link">
  说明
</a></div><div class="nav-item"><a href="/test/Contactme.html" class="nav-link">
  联系我们
</a></div><div class="nav-item"><a href="/test/About.html" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="外部链接" class="dropdown-title"><span class="title">外部链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="外部链接" class="mobile-dropdown-title"><span class="title">外部链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://o7dphiquc5.feishu.cn/docx/H5imdNTLgo57wexd5mQcCFDFndg?from=from_copylink" target="_blank" rel="noopener noreferrer" class="nav-link external">
  留言板
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://en.cppreference.com/w/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  C++ reference
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/FH500/test" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/test/" class="nav-link">
  说明
</a></div><div class="nav-item"><a href="/test/Contactme.html" class="nav-link">
  联系我们
</a></div><div class="nav-item"><a href="/test/About.html" class="nav-link">
  关于
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="外部链接" class="dropdown-title"><span class="title">外部链接</span> <span class="arrow down"></span></button> <button type="button" aria-label="外部链接" class="mobile-dropdown-title"><span class="title">外部链接</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://o7dphiquc5.feishu.cn/docx/H5imdNTLgo57wexd5mQcCFDFndg?from=from_copylink" target="_blank" rel="noopener noreferrer" class="nav-link external">
  留言板
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://github.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://en.cppreference.com/w/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  C++ reference
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <a href="https://github.com/FH500/test" target="_blank" rel="noopener noreferrer" class="repo-link">
    查看源码
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>先前准备</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/test/precede/Preface.html" class="sidebar-link">前言</a></li><li><a href="/test/precede/Installation.html" class="sidebar-link">配置 C/C++ 集成开发环境</a></li><li><a href="/test/precede/VSCode.html" class="sidebar-link">配置 VSCode C/C++ 开发环境</a></li><li><a href="/test/precede/VSCodeUsage.html" class="sidebar-link">使用 VSCode 编写 C/C++ 程序</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>基本知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/test/basic/Variables.html" class="sidebar-link">变量与类型</a></li><li><a href="/test/basic/IO.html" aria-current="page" class="active sidebar-link">输入输出</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/test/basic/IO.html#使用-cin-输入" class="sidebar-link">使用 cin 输入</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#cin-get-和-getline" class="sidebar-link">cin.get 和 getline</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#输入流指针-我读到哪了" class="sidebar-link">输入流指针——我读到哪了？</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#读入了一个错误的类型" class="sidebar-link">读入了一个错误的类型</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/test/basic/IO.html#错误读取" class="sidebar-link">错误读取</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#cin-fail" class="sidebar-link">cin.fail</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#文件结束符-eof" class="sidebar-link">文件结束符 EOF</a></li></ul></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#格式化输入输出" class="sidebar-link">格式化输入输出</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/test/basic/IO.html#输出整数" class="sidebar-link">输出整数</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#输入整数" class="sidebar-link">输入整数</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#输出浮点数" class="sidebar-link">输出浮点数</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#浮点数的精度" class="sidebar-link">浮点数的精度</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#显示浮点数小数部分后导-0" class="sidebar-link">显示浮点数小数部分后导 0</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#域" class="sidebar-link">域</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#其他格式化操作符" class="sidebar-link">其他格式化操作符</a></li></ul></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#c-风格的输入输出" class="sidebar-link">C 风格的输入输出</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/test/basic/IO.html#scanf-的返回值和读入报错" class="sidebar-link">scanf 的返回值和读入报错</a></li><li class="sidebar-sub-header"><a href="/test/basic/IO.html#格式化字符串" class="sidebar-link">格式化字符串</a></li></ul></li></ul></li><li><a href="/test/basic/Operator.html" class="sidebar-link">运算符</a></li><li><a href="/test/basic/Array.html" class="sidebar-link">数组</a></li><li><a href="/test/basic/Function.html" class="sidebar-link">函数</a></li><li><a href="/test/basic/Pointer.html" class="sidebar-link">指针</a></li><li><a href="/test/basic/Statements.html" class="sidebar-link">语句</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>进阶知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/test/advance/Scope.html" class="sidebar-link">变量的作用域和生命周期</a></li><li><a href="/test/advance/Algorithm.html" class="sidebar-link">算法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>STL</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/test/STL/Vector.html" class="sidebar-link">vector</a></li><li><a href="/test/STL/String.html" class="sidebar-link">string</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>计算机基础知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/test/computer/conversion.html" class="sidebar-link">进制专项</a></li><li><a href="/test/computer/hardware.html" class="sidebar-link">硬件专项</a></li><li><a href="/test/computer/Encode.html" class="sidebar-link">编码</a></li><li><a href="/test/computer/Net.html" class="sidebar-link">计算机网络</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>其他</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/test/more/Debug.html" class="sidebar-link">调试</a></li><li><a href="/test/more/VSCodeConfig.html" class="sidebar-link">VSCode 的配置</a></li><li><a href="/test/more/VS.html" class="sidebar-link">Visual Studio 相关</a></li><li><a href="/test/more/VPN.html" class="sidebar-link">翻墙</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>速查表</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/test/table/ASCII.html" class="sidebar-link">ASCII 码</a></li><li><a href="/test/table/C++Function.html" class="sidebar-link">C++ 常用标准库函数</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="输入输出"><a href="#输入输出" class="header-anchor">#</a> 输入输出</h1> <p>输入输出（I/O）这个概念你应该听过很多次了，但是，到底啥是输入输出呢？你可以把我们的程序看成是一个黑盒子，盒子上有一个口，我们可以在纸上写一些字，然后扔进盒子里，那么这个过程就是输入。盒子收到我们的纸条并进行处理后，又从里面扔出另一张纸，那么这个过程就是输出。当然我们不一定就用纸这样传统的交流方式，更现代化一点，盒子上有键盘，你可以通过打字来输入，同时还有屏幕，其会随着你的操作而发生变化，输出不同的内容，没错，这就是电脑。</p> <p>输入和输出不总是具体的数据，但我们可以将其抽象成由 <code>0，1</code> 组成的数据。想象一下电脑处理键盘输入的过程，假如我们按下 <code>A</code> 键，键盘会将这个动作处理成一个数字信号，假定是数字 <code>0</code>，然后发生给电脑。那么电脑收到 <code>0</code> 这个信号时，就理解了我们按下了 <code>A</code> 键。因此，有些时候你可以欺骗电脑，通过一些程序来向电脑发送 <code>0</code> 这个信号。这时，尽管你并没有真正按下 <code>A</code> 键，但电脑还是认为你按了 <code>A</code> 键，并作出相关的反应和输出。这就是鼠标宏和键盘宏的原理。</p> <p>回到我们的 C/C++ 程序中，我们的输入和输出被大大简化了。输入可以看成是一个文本（字符串），我们的程序根据这个文本进行相关处理，又输出另一个文本。处理输入输出就相当于处理文本。</p> <p>假如我们有一个文本（字符串） <code>1100</code>，那么根据 <a href="">ASCII 码</a>，这段文本可以被转化为二进制数字序列 <code>00110001 00110001 00110000 00110000</code>，用十六进制可以简短地表示为 <code>31 31 30 30</code>。那么，假如我们直接把这个文本对应的原始二进制数存储到内存中，总共需要 4 个字节的空间，并且，其可以表示一个 int 型的变量，其值为 <code>825307184</code>。也就是说，对于一个 4 字节的数 <code>00110001 00110001 00110000 00110000</code>，如果你把它拆分成单独的 4 个字符，其可以表示字符串 <code>1100</code>；如果你直接把它看作一个 4 字节的整数，那么它就是数字 <code>825307184</code>。这里我想强调的是解释数据的方法不同，得到的结果也不一样。</p> <p>那么，计算机怎么知道如何将输入处理成我们想要的结果呢？答案就是通过变量的类型来决定。如果使用 <code>cin</code> 将 <code>1100</code> 输入到一个 int 型的变量中，我们得到的是一个值为 <code>1100</code> 的变量，对应的十六进制数为 <code>44C</code>。显然，输入的时候，计算机不是简单地将字符串 <code>1100</code> 对应的原始数据（十六进制表示，为简洁表示，我们后面表示二进制数时常会采用十六进制数） <code>31 31 30 30</code> 复制到我们的内存上。在读取输入的时候，计算机对这段数据进行了一些处理，转换成了 int 型对应值为 <code>1100</code> （内存上为 <code>00 00 04 4C</code>）的变量。</p> <h2 id="使用-cin-输入"><a href="#使用-cin-输入" class="header-anchor">#</a> 使用 cin 输入</h2> <p>尽管我们到现在才正式介绍 <code>cin</code>，但你应该已经使用过它很多次了。一般而言，使用下面的语句来进行输入。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
</code></pre></div><p>此外，你还可以连续使用 <code>&gt;&gt;</code> 运算符来输入多个数据，如下。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cin <span class="token operator">&gt;&gt;</span> a <span class="token operator">&gt;&gt;</span> b <span class="token operator">&gt;&gt;</span> c<span class="token punctuation">;</span>
<span class="token comment">//相当于</span>
cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> b<span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> c<span class="token punctuation">;</span>
</code></pre></div><p><code>cin</code> 在读入数据时有一个特点，就是会忽略所有的空白字符，包括空格、换行符、制表符，因此，即便你的数据前面跟着一些空格、换行符和制表符也没关系，<code>cin</code> 可以跳过这些空白字符读入你需要的数据。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a<span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code> 101
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>101
</code></pre></div><p>此外，<code>cin</code> 在读入数据时，会将尽可能多的符合条件的数据读入到变量中。举例而言，若我们的输入文本为 <code>1001sa as</code>，那么通过 <code>cin</code> 将输入文本读入到一个 int 型变量中，将会得到值为 <code>1001</code> 的变量。如果读入到 string 中，则会得到 <code>1001sa</code>，因为上面提到过 <code>cin</code> 会忽略空格，故从第一个字符开始直到遇到空格时，<code>cin</code> 发现没有更多可读入的字符，于是就终止读入，得到结果为 <code>1001sa</code> 的字符串。总结而言，<code>cin</code> 读入数据会忽略前导的空白字符，并以空白字符作为一次读入结束的标志。你可以复制下面的代码自己尝试不同的输入进行试验。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>string a<span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>1001sa as
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>1001sa
</code></pre></div><h2 id="cin-get-和-getline"><a href="#cin-get-和-getline" class="header-anchor">#</a> cin.get 和 getline</h2> <p>忽略空格可以带来一些便利，但有时，我们就是想要保留空格，那应该怎么办呢？C++ 中还有另外两个常用于输入的函数 <code>cin.get</code> 和 <code>getline</code>。在此，你不需要了解函数的概念，你只需要知道如何使用即可。</p> <p><code>cin.get</code> 每次执行时都会从输入文本中获取单个字符。<code>cin.get</code> 获取字符后，我们需要用一个变量来保存它，因此，我们可以写出以下的代码。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">char</span> c<span class="token punctuation">;</span>
cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//cin.get 得到的字符保存到 c 中。</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;c is \'&quot;</span> <span class="token operator">&lt;&lt;</span> c <span class="token operator">&lt;&lt;</span> <span class="token char">'\''</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;And the value is &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">int</span><span class="token punctuation">(</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code> a
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>c is ' '
And the value is 32
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>
asdf
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>c is '
'
And the value is 10
</code></pre></div><details class="custom-block details"><summary>拓展内容</summary> <p>此外 <code>cin.get</code> 还有另外一种使用方法如下；</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">char</span> c<span class="token punctuation">;</span>
c <span class="token operator">=</span> cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>我不推荐使用这种方法，首先，在这种用法中 <code>cin.get</code> 的返回类型是 int 型，将 int 型赋值给 char 型变量会发生类型转换，产生一些意想不到的问题。原因是 <code>cin.get</code> 不一定总是返回一个符合 char 型范围的值，如 <code>cin.get</code> 读取 <code>EOF</code> 时会返回 <code>-1</code>，这时，如果将其赋值给一个 char 变量，再打印输出会得到不可预知的结果。</p></details> <p><code>getline</code> 是另外一个常用的输入函数，默认情况下，<code>getline</code> 会<strong>不忽略任何字符地</strong>读入一整行字符串，因此，你需要足够大的类型 string 来存储读入的字符串。使用方法如下：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>string a<span class="token punctuation">;</span>
<span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>12345aa  asds
this is new line.
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>12345aa  asds
</code></pre></div><p><code>getline</code> 函数中的第一个参数为 <code>cin</code>，表明其从 <code>cin</code> 读入，而第二个参数则为用于存储的变量。由于 <code>getline</code> 读入时没有忽略空格，故后续还需要对得到的字符串进行进一步处理。</p> <h2 id="输入流指针-我读到哪了"><a href="#输入流指针-我读到哪了" class="header-anchor">#</a> 输入流指针——我读到哪了？</h2> <p>你在打代码的时候，有没有注意到那个闪烁的竖线？你在键盘上敲字时，字符就从那个竖线源源不断地涌现出来。你应该清楚那个竖线的重要作用，它用来指示目前文本输入的位置，故我们把它称为输入光标。同样的，我们的程序在读取输入时，也有类似这样的光标，我们称之为<strong>输入流指针</strong>。输入流指针指示了输入的位置，从输入流指针开始往右直到输入结束都是有效的输入部分，而输入流指针左边的数据则是不会被读入的。</p> <p>举例而言，有一个输入文本为 <code>1100stat</code>，开始的时候我们的输入流指针（用竖线 <code>|</code> 指示）应该在整个文本的前面，即 <code>|1100stat</code>，此时，使用 <code>cin</code> 读入一个 int 变量，则 1100 将会被读走，输入流指针往后移动，变为 <code>1100|stat</code>，这时继续使用 <code>cin</code> 读入一个 string 变量，于是输入流指针后移，变为 <code>1100stat|</code>。这个过程很简单，是吧？</p> <p>再来更加复杂的例子。输入文本为 <code>\nabc 123</code>，使用 <code>cin</code> 读入一个 string 变量，那么流输入指针将移动到 <code>\nabc| 123</code>，但我们读入的字符串实际为 <code>abc</code>，原因就如我之前所说，<code>cin</code> 读入数据时会忽略前导的空白字符，同时也会以空白字符作为读入结束的标志。这时流输入指针移动到了空格之前，那么假如这时我们用 <code>cin.get</code> 读入一个字符，那么应该会得到空格。下面的程序可以验证我们的想法。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>string a<span class="token punctuation">;</span>
<span class="token keyword">char</span> ch<span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;value of ch is \'&quot;</span> <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> <span class="token char">'\''</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;ASCII value is &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">int</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code> 
abc 123
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>value of ch is ' '
ASCII value is 32
</code></pre></div><p>从上面的例子可以看到，使用 <code>cin.get</code> 读入字符时，要注意流输入指针的位置，因为 <code>cin.get</code> <strong>不会忽略空白字符</strong>！如果你不注意的话可能会读入一个空白字符，从而影响你程序的后续运行。</p> <p><code>getline</code> 读入时会读入一整行文本，但<strong>不会读入换行符</strong>，此外，读入完成后，流输入指针会<strong>移动到换行符之后</strong>。以下的程序可以验证 <code>getline</code> 的读入机制。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>string str<span class="token punctuation">;</span>
<span class="token keyword">char</span> ch<span class="token punctuation">;</span>
<span class="token function">getline</span><span class="token punctuation">(</span>cin<span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//假定输入是 abcc\n!</span>
<span class="token comment">//如果 ch 读入的值是 \n，说明 getline 读入完成后，流输入指针会移动到换行符之前，</span>
<span class="token comment">//否则如果读入的值是 !，说明 getline 读入完成后，流输入指针会移动到换行符之后。</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;value of ch is \'&quot;</span> <span class="token operator">&lt;&lt;</span> ch <span class="token operator">&lt;&lt;</span> <span class="token char">'\''</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;ASCII value is &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">int</span><span class="token punctuation">(</span>ch<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>abcc
!
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>value of ch is '!'
ASCII value is 33
</code></pre></div><h2 id="读入了一个错误的类型"><a href="#读入了一个错误的类型" class="header-anchor">#</a> 读入了一个错误的类型</h2> <h3 id="错误读取"><a href="#错误读取" class="header-anchor">#</a> 错误读取</h3> <p>你有没有想过，如果 <code>cin</code> 读入了一个错误的数据会发生什么？比如，如果我把 <code>a</code> 读入到一个 <code>int</code> 型的变量中。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> a<span class="token punctuation">;</span>
</code></pre></div><p>如果我们的<strong>输入为：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>a
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>0
</code></pre></div><p>再多来几组测试，<strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>b
+
?
=
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>0
0
0
0
</code></pre></div><p>可以看到，不管我们输入什么，上面的程序始终输出 <code>0</code>。</p> <p>如果在读入多个数据时出错呢？</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> a <span class="token operator">&gt;&gt;</span> b<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>a 1
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>0 -1
</code></pre></div><p>显然，<code>a</code> 读入了错误的数据后被赋予了值为 <code>0</code>，而 <code>b</code> 似乎根本没有被读入。</p> <p>假如我们尝试把错误的数据“读走”。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> b <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">char</span> c <span class="token operator">=</span> <span class="token char">'\0'</span><span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> a <span class="token operator">&gt;&gt;</span> c <span class="token operator">&gt;&gt;</span> b<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of c is: &quot;</span> <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>a 1
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>0 -1
Value of c is: *
</code></pre></div><p>看来和我们想的不一样，错误的数据并没有被读入到 <code>c</code> 中。</p> <h3 id="cin-fail"><a href="#cin-fail" class="header-anchor">#</a> cin.fail</h3> <p><code>cin</code> 自身保存了一个 bool 型数据，用于指示我们读入是否出现了问题。通过使用 <code>cin.fail()</code> 来得到这个数据，注意，不要漏了括号。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> a<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
<span class="token keyword">bool</span> state <span class="token operator">=</span> cin<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Is there a read error? &quot;</span> <span class="token operator">&lt;&lt;</span> boolalpha <span class="token operator">&lt;&lt;</span> state<span class="token punctuation">;</span> <span class="token comment">//boolalpha 可以将 bool 型变量输出为 true 或 false，如果不加上 boolalpha 则只会输出 1 或 0。</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>a
1
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>0
Is there a read error? true
1
Is there a read error? false
</code></pre></div><h3 id="文件结束符-eof"><a href="#文件结束符-eof" class="header-anchor">#</a> 文件结束符 EOF</h3> <p>EOF（End Of File）就是文件结束的意思，你可以把它想象成一个特殊的字符，并且它会紧跟在文件的末尾之后。因此 EOF 可以用来表示我们在读入文件时是否达到文件的末尾。</p> <p>你是否好奇将 EOF 读入一个变量中会发生什么？我们用下面的程序实验以下。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">char</span> a<span class="token punctuation">;</span>
cin<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Value of a is \'&quot;</span> <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token char">'\''</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;ASCII value is &quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token keyword">int</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;Is there a read error? &quot;</span> <span class="token operator">&lt;&lt;</span> boolalpha <span class="token operator">&lt;&lt;</span> cin<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>Value of a is ''
ASCII value is 0
Is there a read error? true
</code></pre></div><p>在此，我们的输入为空，在程序终端中，想要结束输入，可以通过在一行的行首输入 <code>EOF</code> 字符来实现，<code>EOF</code> 在 <code>Windows</code> 系统下可以按 <code>Ctrl+Z</code> 键输入，在 MacOS 或 Linux 系统下按 <code>Ctrl+D</code> 输入。</p> <p><img src="/test/assets/img/1.5d8ffe85.png" alt="1"></p> <p>上面的程序中的输出告诉我们读入 <code>EOF</code> 时失败了。在你的 IDE 里打出 <code>EOF</code>（不是 <code>Ctrl+Z</code>），然后将鼠标悬浮到它上面，你就可以看到 <code>EOF</code> 字符的定义。在我的电脑上，它被定义为值为 <code>-1</code> 的 int 型的量。显然，<code>EOF</code> 并不是 ASCII 码内的任何一个字符，因此，如果你试图将 <code>EOF</code> 读入到 char 中会发生读入错误。不仅仅是 char，EOF 读入到任何类型中都会发生读入错误。反之，在没有任何输入结束的提示符，且输入的数据长度不定时，我们可以利用读入错误来判断我们的输入是否已经结束了。</p> <div class="custom-block tip"><p class="custom-block-title">问题</p> <p>输入一些英文单词，单词间使用空格间隔开，请你统计输入单词的数量</p> <p><strong>示例输入：</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>Artificer is capable of blow up other creatures
</code></pre></div><p><strong>示例输出：</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token number">8</span>
</code></pre></div></div> <p>首先，我们使用 <code>cin</code> 读入一个 string，然后检查 <code>cin.fail</code> 的状态，如果读入成功，则答案计数加 <code>1</code>，然后继续循环读入下一个 string，再次判断 <code>cin.fail</code> 的状态。如果发生读入错误，则退出循环，输出结果。</p> <details class="custom-block details"><summary>查看参考代码</summary> <div class="language-cpp extra-class"><pre class="language-cpp"><code>string str<span class="token punctuation">;</span>
<span class="token keyword">int</span> ans <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    cin <span class="token operator">&gt;&gt;</span> str<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>cin<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span><span class="token punctuation">;</span>
    <span class="token operator">++</span>ans<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
cout <span class="token operator">&lt;&lt;</span> ans<span class="token punctuation">;</span>
</code></pre></div></details> <h2 id="格式化输入输出"><a href="#格式化输入输出" class="header-anchor">#</a> 格式化输入输出</h2> <h3 id="输出整数"><a href="#输出整数" class="header-anchor">#</a> 输出整数</h3> <p>在输出整数时，我们可以指定其以八进制、十进制或是十六进制输出。例如</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> oct <span class="token operator">&lt;&lt;</span> <span class="token number">88</span><span class="token punctuation">;</span> <span class="token comment">//以八进制输出。</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>130
</code></pre></div><p>上面代码中的 <code>oct</code> 称为操作符，<code>&lt;&lt; oct</code> 并不会输出任何实际内容，它的作用是设定输出的格式。C++ 中提供了三种操作符用于整数的输出。</p> <table><thead><tr><th style="text-align:center;">操作符</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">oct</td> <td style="text-align:center;">八进制（octal）</td></tr> <tr><td style="text-align:center;">dec</td> <td style="text-align:center;">十进制（decimal）</td></tr> <tr><td style="text-align:center;">hex</td> <td style="text-align:center;">十六进制（hexadecimal）</td></tr></tbody></table> <p><strong>样例：</strong></p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> oct <span class="token operator">&lt;&lt;</span> <span class="token number">18</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> dec <span class="token operator">&lt;&lt;</span> <span class="token number">87</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> hex <span class="token operator">&lt;&lt;</span> <span class="token number">1100</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>22
87
44c
</code></pre></div><p>注意，设定输出进制的效果是持久的。也就是说，<code>cout &lt;&lt; hex &lt;&lt; 10 &lt;&lt; ' ' &lt;&lt; 32</code> 的输出结果为 <code>A 20</code>。操作符会持续影响后面的输出。此外，如果你想让输出的整数带有进制前缀，可以使用 <code>showbase</code> 操作符。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token comment">//showbase 和 hex 的顺序没有特别要求，只需保证在输出前即可实现格式化输出。其他的操作符也是同理。</span>
cout <span class="token operator">&lt;&lt;</span> showbase <span class="token operator">&lt;&lt;</span> hex <span class="token operator">&lt;&lt;</span> <span class="token number">1100</span><span class="token punctuation">;</span>
</code></pre></div><p>输出：</p> <div class="language- extra-class"><pre class="language-text"><code>0x44c
</code></pre></div><p>如果你厌倦了显示进制前缀，则使用 <code>noshowbase</code> 即可。</p> <h3 id="输入整数"><a href="#输入整数" class="header-anchor">#</a> 输入整数</h3> <p>除了输出，<code>oct</code>，<code>dec</code> 和 <code>hex</code> 还允许我们使用特定进制输入整数，默认情况下以十进制输入整数。只需在 <code>cin</code> 中设置这些操作符即可。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a<span class="token punctuation">;</span>
<span class="token keyword">int</span> b<span class="token punctuation">;</span>
<span class="token keyword">int</span> c<span class="token punctuation">;</span>
cin <span class="token operator">&gt;&gt;</span> a <span class="token operator">&gt;&gt;</span> oct <span class="token operator">&gt;&gt;</span> b <span class="token operator">&gt;&gt;</span> hex <span class="token operator">&gt;&gt;</span> c<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> a <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span> <span class="token operator">&lt;&lt;</span> b <span class="token operator">&lt;&lt;</span> <span class="token char">' '</span> <span class="token operator">&lt;&lt;</span> c<span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>1234 2322 4d2
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>1234 1234 1234
</code></pre></div><h3 id="输出浮点数"><a href="#输出浮点数" class="header-anchor">#</a> 输出浮点数</h3> <p>适用于浮点数的操作符如下表。</p> <table><thead><tr><th style="text-align:center;">操作符</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">fixed</td> <td style="text-align:center;">定点表示</td></tr> <tr><td style="text-align:center;">scientific</td> <td style="text-align:center;">科学计数法表示</td></tr> <tr><td style="text-align:center;">hexfloat</td> <td style="text-align:center;">十六进制浮点数</td></tr> <tr><td style="text-align:center;">defaultfloat</td> <td style="text-align:center;">默认格式</td></tr></tbody></table> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token number">123.45678</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> scientific <span class="token operator">&lt;&lt;</span> <span class="token number">123.45678</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> hexfloat <span class="token operator">&lt;&lt;</span> <span class="token number">123.45678</span><span class="token punctuation">;</span> <span class="token comment">//不需要掌握</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>123.456780
1.234568e+02
0x1.edd3be22e5de1p+6 
</code></pre></div><p>默认格式下，<code>cout</code> 会在 <code>fixed</code> 和 <code>scientific</code> 间自动选择一种合适的格式输出浮点数。</p> <h3 id="浮点数的精度"><a href="#浮点数的精度" class="header-anchor">#</a> 浮点数的精度</h3> <p>要想指定浮点数输出的精度，需要使用 <code>setprecision</code> 操作符。<code>setprecision</code> 操作符接受一个整数用于指定输出的精度。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">12.3456789</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">12.3456789</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>12
12.3457
</code></pre></div><p>从上可以看到，精度的含义是“有效数字”。但如果我们将浮点数指定为 fixed 或 scientific 输出时，精度的含义会变化为“保留的小数点后的位数”。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> fixed <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">12.3456789</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> scientific <span class="token operator">&lt;&lt;</span> <span class="token function">setprecision</span><span class="token punctuation">(</span><span class="token number">6</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">12.3456789</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>12.35
1.234568e+01
</code></pre></div><p>浮点数的精度的定义如下表：</p> <table><thead><tr><th style="text-align:center;">输出格式</th> <th style="text-align:center;">精度意义</th></tr></thead> <tbody><tr><td style="text-align:center;">defaultfloat</td> <td style="text-align:center;">数字的个数（有效数字）</td></tr> <tr><td style="text-align:center;">fixed</td> <td style="text-align:center;">小数点后的数字个数</td></tr> <tr><td style="text-align:center;">scientific</td> <td style="text-align:center;">小数点后的数字个数</td></tr></tbody></table> <p>此外，默认情况下，浮点数的精度为 <code>6</code>。</p> <div class="custom-block warning"><p class="custom-block-title">注意</p> <p><code>setprecision</code> 包含在头文件 <code>iomanip</code> 中，使用时需要引入头文件 <code>iomanip</code>。此外，部分格式化相关的操作符也包含在 <code>iomanip</code> 中，如果你想要使用格式化操作符，建议引入此头文件。</p></div> <h3 id="显示浮点数小数部分后导-0"><a href="#显示浮点数小数部分后导-0" class="header-anchor">#</a> 显示浮点数小数部分后导 0</h3> <p>浮点数以 <code>defaultfloat</code> 格式输出时，会忽略小数部分的后导 <code>0</code>。如输出 <code>1.0</code> 时会变为 <code>1</code>，输出 <code>2.2300</code> 时会变为 <code>2.23</code>。要想显示后导 <code>0</code>，可以使用 <code>showpoint</code> 操作符。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> <span class="token number">1.0</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> showpoint <span class="token operator">&lt;&lt;</span> <span class="token number">1.0</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>1
1.00000
</code></pre></div><p>输出的后导 <code>0</code> 的个数受到 <code>setprecision</code> 的影响。如果你不想再显示后导 <code>0</code>，可以使用 <code>noshowpoint</code> 操作符。</p> <p>由于以 <code>fixed</code> 和 <code>scientific</code> 格式输出的浮点数受精度的影响，会始终显示后导 <code>0</code>，故 <code>showpoint</code> 操作符对其不起作用。</p> <h3 id="域"><a href="#域" class="header-anchor">#</a> 域</h3> <p>setw 操作符可以指定输出时的字符宽度（输出字符不足时用空格补齐）。其接受一个整数用于指定宽度。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;********|********&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1.02</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;double&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">35</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;int&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\'a\'&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;char&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\&quot;hello\&quot;&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>********|********
    1.02|  double
      35|     int
     'a'|    char
 &quot;hello&quot;|  string
</code></pre></div><p>当输出的数据的长度比 <code>setw</code> 设置的宽度要长时，<code>setw</code> 不会起作用。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;123456789&quot;</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>123456789
</code></pre></div><p>默认情况下，setw 的输出采用右对齐的方式。如果你想切换对齐方式，可以使用 <code>left</code>（左对齐）或 <code>right</code>（右对齐）操作符。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;********|********&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> left<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1.02</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;double&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">35</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;int&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\'a\'&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;char&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\&quot;hello\&quot;&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>********|********
1.02    |double
35      |int
'a'     |char
&quot;hello&quot; |string
</code></pre></div><p><code>setfill</code> 操作符还可以指定 <code>setw</code> 用于填充的字符。用于填充的字符需要传入 <code>setfill</code> 中。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;********|********&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setfill</span><span class="token punctuation">(</span><span class="token char">'-'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">1.02</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;double&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token number">35</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;int&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\'a\'&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;char&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;\&quot;hello\&quot;&quot;</span> <span class="token operator">&lt;&lt;</span> <span class="token char">'|'</span> <span class="token operator">&lt;&lt;</span>  <span class="token function">setw</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token operator">&lt;&lt;</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>********|********
----1.02|--double
------35|-----int
-----'a'|----char
-&quot;hello&quot;|--string
</code></pre></div><h3 id="其他格式化操作符"><a href="#其他格式化操作符" class="header-anchor">#</a> 其他格式化操作符</h3> <p>下面是一些适用于整数和浮点数的格式化操作符。</p> <table><thead><tr><th style="text-align:center;">操作符</th> <th style="text-align:center;">说明</th></tr></thead> <tbody><tr><td style="text-align:center;">showpos</td> <td style="text-align:center;">显示数字的正号</td></tr> <tr><td style="text-align:center;">noshowpos</td> <td style="text-align:center;">默认，不显示数字的正号</td></tr> <tr><td style="text-align:center;">uppercase</td> <td style="text-align:center;">输出进制前缀或者科学计数法中的底数时使用大写字母</td></tr> <tr><td style="text-align:center;">nouppercase</td> <td style="text-align:center;">默认，使用小写字母</td></tr></tbody></table> <div class="language-cpp extra-class"><pre class="language-cpp"><code>cout <span class="token operator">&lt;&lt;</span> showpos <span class="token operator">&lt;&lt;</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> uppercase <span class="token operator">&lt;&lt;</span> scientific <span class="token operator">&lt;&lt;</span> <span class="token number">1.23</span> <span class="token operator">&lt;&lt;</span> endl<span class="token punctuation">;</span>
cout <span class="token operator">&lt;&lt;</span> uppercase <span class="token operator">&lt;&lt;</span> hex <span class="token operator">&lt;&lt;</span> <span class="token number">8381</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>+1
+1.230000E+00
20BD
</code></pre></div><h2 id="c-风格的输入输出"><a href="#c-风格的输入输出" class="header-anchor">#</a> C 风格的输入输出</h2> <h3 id="scanf-的返回值和读入报错"><a href="#scanf-的返回值和读入报错" class="header-anchor">#</a> scanf 的返回值和读入报错</h3> <p>scanf 的函数原型为：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span> <span class="token operator">*</span>format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>这意味着，<code>scanf</code> 是一个返回类型为 int 的函数。其返回值表示 <code>scanf</code>成功读入的变量的个数，如果读入第一个变量之前就发生读入失败（此时通常表现为读到了 <code>EOF</code>），那么将会返回 <code>EOF</code>。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a<span class="token punctuation">;</span>
<span class="token keyword">int</span> c<span class="token punctuation">;</span>
<span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Return value of scanf is %d&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>输入 1：
1 1
输入 2：
a 1
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>输出 1：
Return value of scanf is 2
输出 2：
Return value of scanf is 0
</code></pre></div><div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a<span class="token punctuation">;</span>
<span class="token keyword">int</span> d <span class="token operator">=</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Return value of scanf is %d&quot;</span><span class="token punctuation">,</span> d<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>-1
</code></pre></div><p>利用 <code>scanf</code> 的返回值，可以实现长度不定的数据的读入。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> sum <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> a<span class="token punctuation">;</span>
<span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token constant">EOF</span><span class="token punctuation">)</span>
    sum <span class="token operator">+=</span> a<span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d&quot;</span><span class="token punctuation">,</span> sum<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>1 32 3 -8 3
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>31
</code></pre></div><h3 id="格式化字符串"><a href="#格式化字符串" class="header-anchor">#</a> 格式化字符串</h3> <p>scanf 的接收的第一个参数<strong>格式化字符串</strong>可用来指示如何进行输入。格式化字符串由三部分组成：</p> <ol><li>非空白字符</li> <li>空白字符</li> <li>格式字符</li></ol> <p>在读入时，scanf 会将格式化字符的非空白字符与输入文本进行比较，若他们无法匹配，读入会失败。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> state <span class="token operator">=</span> <span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;Input number:%d&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Read state: %d\n&quot;</span><span class="token punctuation">,</span> state<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;Value of a is %d&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>输入 1：
10
输入 2：
input number:10
输入 3：
Input number:10
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>输出 1：
Read state: 0
Value of a is -1
输出 2：
Read state: 0
Value of a is -1
输出 3：
Read state: 1
Value of a is 10
</code></pre></div><p>格式化字符串中的空白字符会导致 scanf 忽略掉输入中连续的空白字符。</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">char</span> a<span class="token punctuation">;</span>
<span class="token keyword">char</span> b<span class="token punctuation">;</span>
<span class="token keyword">char</span> c<span class="token punctuation">;</span>
<span class="token function">scanf</span><span class="token punctuation">(</span><span class="token string">&quot;%c%c %c&quot;</span><span class="token punctuation">,</span> <span class="token operator">&amp;</span>a<span class="token punctuation">,</span> <span class="token operator">&amp;</span>b<span class="token punctuation">,</span> <span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;a is \'%c\'\nASCII value is %d\n&quot;</span><span class="token punctuation">,</span> a<span class="token punctuation">,</span> a<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;b is \'%c\'\nASCII value is %d\n&quot;</span><span class="token punctuation">,</span> b<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;c is \'%c\'\nASCII value is %d\n&quot;</span><span class="token punctuation">,</span> c<span class="token punctuation">,</span> c<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><strong>输入：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>a      1
</code></pre></div><p><strong>输出：</strong></p> <div class="language- extra-class"><pre class="language-text"><code>a is 'a'
ASCII value is 97
b is ' '
ASCII value is 32
c is '1'
ASCII value is 49
</code></pre></div><p>格式字符，如 <code>%d</code>，<code>%c</code>，<code>%f</code> 等用于说明输入的方式。想必你已经掌握了，在此我不再介绍了。</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/FH500/test/edit/main/docs/basic/IO.md" target="_blank" rel="noopener noreferrer">在 Github 上编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">最后更新时间:</span> <span class="time">2023/10/28 04:16:23</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/test/basic/Variables.html" class="prev">
        变量与类型
      </a></span> <span class="next"><a href="/test/basic/Operator.html">
        运算符
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/test/assets/js/app.a472b090.js" defer></script><script src="/test/assets/js/2.11d8e1ba.js" defer></script><script src="/test/assets/js/1.d71b1245.js" defer></script><script src="/test/assets/js/32.6e65d218.js" defer></script>
  </body>
</html>
